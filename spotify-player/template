# Template file for 'spotify-player'
pkgname=spotify-player
version=0.21.0
revision=1
build_style=cargo
make_install_args="--path spotify_player --no-default-features --features rodio-backend,streaming,media-control,notify,sixel"
hostmakedepends="pkg-config cmake clang rust-bindgen"
makedepends="libsixel-devel openssl-devel alsa-lib-devel dbus-devel libxcb-devel"
patch_args="-Np1"
short_desc="Command driven spotify player"
maintainer="aniruddhgutta <aniruddhgutta@disroot.org>"
license="MIT"
homepage="https://github.com/aome510/spotify-player"
distfiles="https://github.com/aome510/spotify-player/archive/refs/tags/v${version}.tar.gz"
checksum=a1bc03ff6b1788283a38808745098d551f0d86b87a2fffabc61ceaaa17cfa93d

pre_build() {
    rm -f spotify_player/Cargo.lock
    cargo fetch --locked --manifest-path spotify_player/Cargo.toml
}

post_install() {
	vlicense LICENSE
}
